.row{ ng: { controller: "TagRulesCtrl" } }
  .eleven.columns.alpha.omega
    .eleven.columns.alpha.omega
      .no_tags{ ng: { show: "tagGroups.length == 0" } }
        No tags apply to this enterprise yet
      .customer_tag{ ng: { repeat: "tagGroup in tagGroups" }, bindonce: true }
        .header
          %h3
            For customers tagged:
          %tags-input{ ng: { model: 'tagGroup.tags'},
            min: { tags: "1" },
            on: { tag: { added: "updateTagsRulesFor(tagGroup)", removed: "updateTagsRulesFor(tagGroup)" } } }

        .no_rules{ ng: { show: "tagGroup.rules.length == 0" } }
          No rules apply to this tag yet
        .tag_rule{ ng: { repeat: "rule in tagGroup.rules" } }
          %discount-order{ bo: { if: "rule.type == 'TagRule::DiscountOrder'" } }
        .add_rule
          %input.button.icon-plus{ type: 'button', value: "+ Add A New Rule", ng: { click: 'addNewRuleTo(tagGroup)' } }
      .add_tag
        %input.button.icon-plus{ type: 'button', value: "+ Add A New Tag", ng: { click: 'addNewTag()' } }
